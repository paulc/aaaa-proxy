<html>
<head>
<title>Log Viewer</title>
</head>
<body>
<h3>Log Viewer</h3>
<ul></ul>
<script type="text/javascript">
	const es = new EventSource("/logstream");
	const log = document.querySelector("ul");
	es.onmessage = (e) => { 
		const obj = JSON.parse(e.data)
		const item = document.createElement("li");
		const item_pre = document.createElement("pre");
		item_pre.textContent = `${obj.timestamp} :: ${obj.client} ${obj.qname} ${obj.qtype}`
		item.appendChild(item_pre)
		log.appendChild(item);
		item.scrollIntoView()
	}
</script>
</body>
